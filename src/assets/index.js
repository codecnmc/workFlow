!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.workflow=n():t.workflow=n()}(this,(function(){return function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=143)}([function(t,n,r){"use strict";var e=r(26),o=Function.prototype,i=o.call,s=e&&o.bind.bind(i,i);t.exports=e?s:function(t){return function(){return i.apply(t,arguments)}}},function(t,n,r){"use strict";function e(t,n,r,e,o,i,s,a){var c,d="function"==typeof t?t.options:t;if(n&&(d.render=n,d.staticRenderFns=r,d._compiled=!0),e&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=c):o&&(c=a?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,n){return c.call(n),l(t,n)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}r.d(n,"a",(function(){return e}))},function(t,n,r){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},function(t,n,r){"use strict";(function(n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n&&n)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()}).call(this,r(65))},function(t,n,r){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){"use strict";var e=r(4);t.exports=!e((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,n,r){"use strict";var e=r(0),o=Set.prototype;t.exports={Set:Set,add:e(o.add),has:e(o.has),remove:e(o.delete),proto:o}},function(t,n,r){"use strict";var e=r(3),o=r(39).f,i=r(15),s=r(35),a=r(34),c=r(54),d=r(89);t.exports=function(t,n){var r,l,u,p,f,h=t.target,g=t.global,v=t.stat;if(r=g?e:v?e[h]||a(h,{}):e[h]&&e[h].prototype)for(l in n){if(p=n[l],u=t.dontCallGetSet?(f=o(r,l))&&f.value:r[l],!d(g?l:h+(v?".":"#")+l,t.forced)&&void 0!==u){if(typeof p==typeof u)continue;c(p,u)}(t.sham||u&&u.sham)&&i(p,"sham",!0),s(r,l,p,t)}}},function(t,n,r){"use strict";var e=r(2);t.exports=function(t){return"object"==typeof t?null!==t:e(t)}},function(t,n,r){"use strict";var e=r(0),o=r(49),i=e({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,n){return i(o(t),n)}},function(t,n,r){"use strict";var e=r(6).has;t.exports=function(t){return e(t),t}},function(t,n,r){"use strict";var e=r(14);t.exports=function(t,n,r){for(var o,i,s=r?t:t.iterator,a=t.next;!(o=e(a,s)).done;)if(void 0!==(i=n(o.value)))return i}},function(t,n,r){"use strict";var e=r(31),o=r(22),i=r(14),s=r(36),a=r(118),c=RangeError,d=TypeError,l=Math.max,u=function(t,n){this.set=t,this.size=l(n,0),this.has=e(t.has),this.keys=e(t.keys)};u.prototype={getIterator:function(){return a(o(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},t.exports=function(t){o(t);var n=+t.size;if(n!=n)throw new d("Invalid size");var r=s(n);if(r<0)throw new c("Invalid size");return new u(t,r)}},function(t,n,r){"use strict";var e=r(21),o=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var n=e("Set");try{(new n)[t](o(0));try{return(new n)[t](o(-1)),!1}catch(t){return!0}}catch(t){return!1}}},function(t,n,r){"use strict";var e=r(26),o=Function.prototype.call;t.exports=e?o.bind(o):function(){return o.apply(o,arguments)}},function(t,n,r){"use strict";var e=r(5),o=r(16),i=r(27);t.exports=e?function(t,n,r){return o.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){"use strict";var e=r(5),o=r(51),i=r(74),s=r(22),a=r(41),c=TypeError,d=Object.defineProperty,l=Object.getOwnPropertyDescriptor;n.f=e?i?function(t,n,r){if(s(t),n=a(n),s(r),"function"==typeof t&&"prototype"===n&&"value"in r&&"writable"in r&&!r.writable){var e=l(t,n);e&&e.writable&&(t[n]=r.value,r={configurable:"configurable"in r?r.configurable:e.configurable,enumerable:"enumerable"in r?r.enumerable:e.enumerable,writable:!1})}return d(t,n,r)}:d:function(t,n,r){if(s(t),n=a(n),s(r),o)try{return d(t,n,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var r=function(t,n){var r=t[1]||"",e=t[3];if(!e)return r;if(n&&"function"==typeof btoa){var o=(s=e,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),i=e.sources.map((function(t){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(t," */")}));return[r].concat(i).concat([o]).join("\n")}var s,a,c;return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(r,"}"):r})).join("")},n.i=function(t,r,e){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(e)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);e&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),n.push(c))}},n}},function(t,n,r){"use strict";var e=r(0),o=r(11),i=r(6),s=i.Set,a=i.proto,c=e(a.forEach),d=e(a.keys),l=d(new s).next;t.exports=function(t,n,r){return r?o({iterator:d(t),next:l},n):c(t,n)}},function(t,n,r){"use strict";var e=r(57),o=r(6);t.exports=e(o.proto,"size","get")||function(t){return t.size}},function(t,n,r){"use strict";var e=r(7),o=r(3),i=r(90),s=r(91),a=o.WebAssembly,c=7!==new Error("e",{cause:7}).cause,d=function(t,n){var r={};r[t]=s(t,n,c),e({global:!0,constructor:!0,arity:1,forced:c},r)},l=function(t,n){if(a&&a[t]){var r={};r[t]=s("WebAssembly."+t,n,c),e({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},r)}};d("Error",(function(t){return function(n){return i(t,this,arguments)}})),d("EvalError",(function(t){return function(n){return i(t,this,arguments)}})),d("RangeError",(function(t){return function(n){return i(t,this,arguments)}})),d("ReferenceError",(function(t){return function(n){return i(t,this,arguments)}})),d("SyntaxError",(function(t){return function(n){return i(t,this,arguments)}})),d("TypeError",(function(t){return function(n){return i(t,this,arguments)}})),d("URIError",(function(t){return function(n){return i(t,this,arguments)}})),l("CompileError",(function(t){return function(n){return i(t,this,arguments)}})),l("LinkError",(function(t){return function(n){return i(t,this,arguments)}})),l("RuntimeError",(function(t){return function(n){return i(t,this,arguments)}}))},function(t,n,r){"use strict";var e=r(3),o=r(2),i=function(t){return o(t)?t:void 0};t.exports=function(t,n){return arguments.length<2?i(e[t]):e[t]&&e[t][n]}},function(t,n,r){"use strict";var e=r(8),o=String,i=TypeError;t.exports=function(t){if(e(t))return t;throw new i(o(t)+" is not an object")}},function(t,n,r){"use strict";var e=r(7),o=r(49),i=r(55),s=r(103),a=r(105);e({target:"Array",proto:!0,arity:1,forced:r(4)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var n=o(this),r=i(n),e=arguments.length;a(r+e);for(var c=0;c<e;c++)n[r]=arguments[c],r++;return s(n,r),r}})},function(t,n,r){"use strict";function e(t,n){for(var r=[],e={},o=0;o<n.length;o++){var i=n[o],s=i[0],a={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};e[s]?e[s].parts.push(a):r.push(e[s]={id:s,parts:[a]})}return r}r.r(n),r.d(n,"default",(function(){return f}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},s=o&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,d=!1,l=function(){},u=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,n,r,o){d=r,u=o||{};var s=e(t,n);return h(s),function(n){for(var r=[],o=0;o<s.length;o++){var a=s[o];(c=i[a.id]).refs--,r.push(c)}n?h(s=e(t,n)):s=[];for(o=0;o<r.length;o++){var c;if(0===(c=r[o]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete i[c.id]}}}}function h(t){for(var n=0;n<t.length;n++){var r=t[n],e=i[r.id];if(e){e.refs++;for(var o=0;o<e.parts.length;o++)e.parts[o](r.parts[o]);for(;o<r.parts.length;o++)e.parts.push(v(r.parts[o]));e.parts.length>r.parts.length&&(e.parts.length=r.parts.length)}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(v(r.parts[o]));i[r.id]={id:r.id,refs:1,parts:s}}}}function g(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function v(t){var n,r,e=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(e){if(d)return l;e.parentNode.removeChild(e)}if(p){var o=c++;e=a||(a=g()),n=m.bind(null,e,o,!1),r=m.bind(null,e,o,!0)}else e=g(),n=y.bind(null,e),r=function(){e.parentNode.removeChild(e)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}var x,b=(x=[],function(t,n){return x[t]=n,x.filter(Boolean).join("\n")});function m(t,n,r,e){var o=r?"":e.css;if(t.styleSheet)t.styleSheet.cssText=b(n,o);else{var i=document.createTextNode(o),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(i,s[n]):t.appendChild(i)}}function y(t,n){var r=n.css,e=n.media,o=n.sourceMap;if(e&&t.setAttribute("media",e),u.ssrId&&t.setAttribute("data-vue-ssr-id",n.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}},function(t,n,r){"use strict";var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"add-node-btn-box"},[n("div",{staticClass:"add-node-btn"},[n("el-popover",{attrs:{placement:"right-start","popper-class":"add-node-popover"},model:{value:t.visible,callback:function(n){t.visible=n},expression:"visible"}},[n("div",{staticClass:"add-node-popover-body"},t._l(t.config.addNodesOptions,(function(r){return n("div",{key:r.type,staticClass:"add-node-popover-item",class:r.class,on:{click:function(n){return t.addType(r.type)}}},[n("div",{staticClass:"item-wrapper"},[n("el-image",{staticClass:"img-style",attrs:{src:r.icon,alt:""}})],1),t._v(" "),n("p",[t._v(t._s(r.label))])])})),0),t._v(" "),n("button",{staticClass:"btn",attrs:{slot:"reference",type:"button"},slot:"reference"},[n("i",{staticClass:"el-icon-plus",staticStyle:{color:"#fff"}})])])],1)])};e._withStripped=!0;var o={props:["value","tip"],inject:["openDrawer","getFlatRoot","config","nodeType"],data:()=>({visible:!1,nodes:[]}),model:{prop:"value",event:"input"},computed:{nodeConfig:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{addType(t){this.visible=!1;let n=this.nodeConfig.level,r=this.nodeType.条件分支,e=this.getFlatRoot();if(t==r){let t=0,r=this.nodeConfig;for(;r;){if(r.type==this.nodeType.条件){t=r.level;break}r=e[r.fatherID]}n=t+1}n>1&&t==r&&!this.nodeConfig.childNode&&(this.nodeConfig.childNode=this.$factory.getStruct(this.nodeConfig&&this.nodeConfig.nodeId,this.nodeType.删除块,null,n));let o=this.$factory.getStruct(this.nodeConfig&&this.nodeConfig.nodeId,t,null,n);if(this.nodeConfig.childNode){let t=this.nodeConfig.childNode;this.nodeConfig.childNode=o,t.fatherID=o.nodeId,o.childNode=t}else this.nodeConfig.childNode=o;this.config.createPopupImmediately&&this.openDrawer(o)}}},i=(r(110),r(1)),s=Object(i.a)(o,e,[],!1,null,"447ace59",null);n.a=s.exports},function(t,n,r){"use strict";var e=r(4);t.exports=!e((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},function(t,n,r){"use strict";t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){"use strict";var e=r(67),o=r(30);t.exports=function(t){return e(o(t))}},function(t,n,r){"use strict";var e=r(0),o=e({}.toString),i=e("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,n,r){"use strict";var e=r(40),o=TypeError;t.exports=function(t){if(e(t))throw new o("Can't call method on "+t);return t}},function(t,n,r){"use strict";var e=r(2),o=r(71),i=TypeError;t.exports=function(t){if(e(t))return t;throw new i(o(t)+" is not a function")}},function(t,n,r){"use strict";var e=r(3),o=r(47),i=r(9),s=r(50),a=r(45),c=r(44),d=e.Symbol,l=o("wks"),u=c?d.for||d:d&&d.withoutSetter||s;t.exports=function(t){return i(l,t)||(l[t]=a&&i(d,t)?d[t]:u("Symbol."+t)),l[t]}},function(t,n,r){"use strict";var e=r(48),o=r(3),i=r(34),s=t.exports=o["__core-js_shared__"]||i("__core-js_shared__",{});(s.versions||(s.versions=[])).push({version:"3.37.1",mode:e?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(t,n,r){"use strict";var e=r(3),o=Object.defineProperty;t.exports=function(t,n){try{o(e,t,{value:n,configurable:!0,writable:!0})}catch(r){e[t]=n}return n}},function(t,n,r){"use strict";var e=r(2),o=r(16),i=r(52),s=r(34);t.exports=function(t,n,r,a){a||(a={});var c=a.enumerable,d=void 0!==a.name?a.name:n;if(e(r)&&i(r,d,a),a.global)c?t[n]=r:s(n,r);else{try{a.unsafe?t[n]&&(c=!0):delete t[n]}catch(t){}c?t[n]=r:o.f(t,n,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},function(t,n,r){"use strict";var e=r(85);t.exports=function(t){var n=+t;return n!=n||0===n?0:e(n)}},function(t,n,r){"use strict";var e=r(97),o=String;t.exports=function(t){if("Symbol"===e(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},function(t,n,r){"use strict";var e=r(6),o=r(18),i=e.Set,s=e.add;t.exports=function(t){var n=new i;return o(t,(function(t){s(n,t)})),n}},function(t,n,r){"use strict";var e=r(5),o=r(14),i=r(66),s=r(27),a=r(28),c=r(41),d=r(9),l=r(51),u=Object.getOwnPropertyDescriptor;n.f=e?u:function(t,n){if(t=a(t),n=c(n),l)try{return u(t,n)}catch(t){}if(d(t,n))return s(!o(i.f,t,n),t[n])}},function(t,n,r){"use strict";t.exports=function(t){return null==t}},function(t,n,r){"use strict";var e=r(68),o=r(42);t.exports=function(t){var n=e(t,"string");return o(n)?n:n+""}},function(t,n,r){"use strict";var e=r(21),o=r(2),i=r(43),s=r(44),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var n=e("Symbol");return o(n)&&i(n.prototype,a(t))}},function(t,n,r){"use strict";var e=r(0);t.exports=e({}.isPrototypeOf)},function(t,n,r){"use strict";var e=r(45);t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,n,r){"use strict";var e=r(69),o=r(4),i=r(3).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41}))},function(t,n,r){"use strict";var e=r(31),o=r(40);t.exports=function(t,n){var r=t[n];return o(r)?void 0:e(r)}},function(t,n,r){"use strict";var e=r(33);t.exports=function(t,n){return e[t]||(e[t]=n||{})}},function(t,n,r){"use strict";t.exports=!1},function(t,n,r){"use strict";var e=r(30),o=Object;t.exports=function(t){return o(e(t))}},function(t,n,r){"use strict";var e=r(0),o=0,i=Math.random(),s=e(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},function(t,n,r){"use strict";var e=r(5),o=r(4),i=r(73);t.exports=!e&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){"use strict";var e=r(0),o=r(4),i=r(2),s=r(9),a=r(5),c=r(75).CONFIGURABLE,d=r(76),l=r(77),u=l.enforce,p=l.get,f=String,h=Object.defineProperty,g=e("".slice),v=e("".replace),x=e([].join),b=a&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),m=String(String).split("String"),y=t.exports=function(t,n,r){"Symbol("===g(f(n),0,7)&&(n="["+v(f(n),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!s(t,"name")||c&&t.name!==n)&&(a?h(t,"name",{value:n,configurable:!0}):t.name=n),b&&r&&s(r,"arity")&&t.length!==r.arity&&h(t,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var e=u(t);return s(e,"source")||(e.source=x(m,"string"==typeof n?n:"")),t};Function.prototype.toString=y((function(){return i(this)&&p(this).source||d(this)}),"toString")},function(t,n,r){"use strict";t.exports={}},function(t,n,r){"use strict";var e=r(9),o=r(80),i=r(39),s=r(16);t.exports=function(t,n,r){for(var a=o(n),c=s.f,d=i.f,l=0;l<a.length;l++){var u=a[l];e(t,u)||r&&e(r,u)||c(t,u,d(n,u))}}},function(t,n,r){"use strict";var e=r(86);t.exports=function(t){return e(t.length)}},function(t,n,r){"use strict";var e=r(57),o=r(8),i=r(30),s=r(92);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,r={};try{(t=e(Object.prototype,"__proto__","set"))(r,[]),n=r instanceof Array}catch(t){}return function(r,e){return i(r),s(e),o(r)?(n?t(r,e):r.__proto__=e,r):r}}():void 0)},function(t,n,r){"use strict";var e=r(0),o=r(31);t.exports=function(t,n,r){try{return e(o(Object.getOwnPropertyDescriptor(t,n)[r]))}catch(t){}}},function(t,n,r){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},function(t,n,r){var e=r(111);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,r(24).default)("228f471a",e,!1,{})},function(t,n,r){var e=r(113);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,r(24).default)("ffb6830c",e,!1,{})},function(t,n,r){"use strict";var e=r(14),o=r(22),i=r(46);t.exports=function(t,n,r){var s,a;o(t);try{if(!(s=i(t,"return"))){if("throw"===n)throw r;return r}s=e(s,t)}catch(t){a=!0,s=t}if("throw"===n)throw r;if(a)throw s;return o(s),r}},function(t,n,r){var e=r(140);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,r(24).default)("0b45837c",e,!1,{})},function(t,n,r){var e=r(142);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,r(24).default)("2af70110",e,!1,{})},function(t,n,r){"use strict";r.r(n);var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"nodeflow-components"},[n("div",{staticClass:"flex"},[n(t.getComponent,{tag:"component",attrs:{isTried:t.isTried,"data-id":t.nodeConfig.nodeId},on:{"update:isTried":function(n){t.isTried=n},"update:is-tried":function(n){t.isTried=n}},model:{value:t.nodeConfig,callback:function(n){t.nodeConfig=n},expression:"nodeConfig"}})],1),t._v(" "),t.nodeConfig.childNode?n("nodeWrap",{attrs:{isTried:t.isTried},on:{"update:isTried":function(n){t.isTried=n},"update:is-tried":function(n){t.isTried=n}},model:{value:t.nodeConfig.childNode,callback:function(n){t.$set(t.nodeConfig,"childNode",n)},expression:"nodeConfig.childNode"}}):t._e()],1)};e._withStripped=!0;r(23);var o={name:"nodeWrap",components:{addNode:r(25).a},props:["isTried","value"],inject:["getFlatRoot","nodeType"],model:{prop:"value",event:"input"},computed:{nodeConfig:{get(){return this.value},set(t){this.$emit("input",t)}},getComponent(){return this.$factory.getTypeComponentName(this.nodeConfig.type)},dragID:{get:()=>window.__drag_id,set(t){window.__drag_id=t}},hoverNode:{get:()=>window.__hover_id,set(t){let n=document.querySelectorAll(".block-hover");for(let t of n)t.classList.remove("block-hover");if(window.__hover_id=t,t){document.querySelector(`[data-id='${t}']`).classList.add("block-hover")}}}},methods:{dealStr(t,n){let r=[],e=t.split(",");for(var o in n)e.map(t=>{t==o&&r.push(n[o].value)});return r.join("或")},drop(t){const n=()=>{this.dragID="",this.hoverNode=""};if(!this.hoverNode)return n();let r=this.getFlatRoot(),e=r[r[this.dragID].fatherID],o=r[this.hoverNode];if([this.nodeType.结束].includes(o.type))return n();let i=o.childNode,s=r[this.dragID];if(s.fatherID==o.nodeId)return n();e.childNode&&(e.childNode=e.childNode.childNode,e.childNode&&(e.childNode.fatherID=e.nodeId)),s.fatherID=o.nodeId,s.childNode=i,o.childNode=s,i&&(i.fatherID=s.nodeId),n()},dragEnter(t){if(t.target){let n=!1,r=t.target;for(;!n;){if(["node-wrap","condition-node"].includes(r.className)){let t=r.getAttribute("data-id");if(t&&t!=this.dragID){let n=this.getFlatRoot()[this.dragID];if(t==n.fatherID)break;if(n.type==this.nodeType.条件分支&&n.conditionNodes.some(n=>n.nodeId==t))break;this.hoverNode=t;break}break}if(this.hoverNode="",!r.parentElement)break;r=r.parentElement}}},dragStart(t){this.dragID=this.nodeConfig.nodeId,this.hoverNode=""}}},i=r(1),s=Object(i.a)(o,e,[],!1,null,null,null);n.default=s.exports},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,n,r){"use strict";var e={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!e.call({1:2},1);n.f=i?function(t){var n=o(this,t);return!!n&&n.enumerable}:e},function(t,n,r){"use strict";var e=r(0),o=r(4),i=r(29),s=Object,a=e("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?a(t,""):s(t)}:s},function(t,n,r){"use strict";var e=r(14),o=r(8),i=r(42),s=r(46),a=r(72),c=r(32),d=TypeError,l=c("toPrimitive");t.exports=function(t,n){if(!o(t)||i(t))return t;var r,c=s(t,l);if(c){if(void 0===n&&(n="default"),r=e(c,t,n),!o(r)||i(r))return r;throw new d("Can't convert object to primitive value")}return void 0===n&&(n="number"),a(t,n)}},function(t,n,r){"use strict";var e,o,i=r(3),s=r(70),a=i.process,c=i.Deno,d=a&&a.versions||c&&c.version,l=d&&d.v8;l&&(o=(e=l.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!o&&s&&(!(e=s.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=s.match(/Chrome\/(\d+)/))&&(o=+e[1]),t.exports=o},function(t,n,r){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(t,n,r){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},function(t,n,r){"use strict";var e=r(14),o=r(2),i=r(8),s=TypeError;t.exports=function(t,n){var r,a;if("string"===n&&o(r=t.toString)&&!i(a=e(r,t)))return a;if(o(r=t.valueOf)&&!i(a=e(r,t)))return a;if("string"!==n&&o(r=t.toString)&&!i(a=e(r,t)))return a;throw new s("Can't convert object to primitive value")}},function(t,n,r){"use strict";var e=r(3),o=r(8),i=e.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,n,r){"use strict";var e=r(5),o=r(4);t.exports=e&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(t,n,r){"use strict";var e=r(5),o=r(9),i=Function.prototype,s=e&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,d=a&&(!e||e&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:d}},function(t,n,r){"use strict";var e=r(0),o=r(2),i=r(33),s=e(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},function(t,n,r){"use strict";var e,o,i,s=r(78),a=r(3),c=r(8),d=r(15),l=r(9),u=r(33),p=r(79),f=r(53),h=a.TypeError,g=a.WeakMap;if(s||u.state){var v=u.state||(u.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,e=function(t,n){if(v.has(t))throw new h("Object already initialized");return n.facade=t,v.set(t,n),n},o=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var x=p("state");f[x]=!0,e=function(t,n){if(l(t,x))throw new h("Object already initialized");return n.facade=t,d(t,x,n),n},o=function(t){return l(t,x)?t[x]:{}},i=function(t){return l(t,x)}}t.exports={set:e,get:o,has:i,enforce:function(t){return i(t)?o(t):e(t,{})},getterFor:function(t){return function(n){var r;if(!c(n)||(r=o(n)).type!==t)throw new h("Incompatible receiver, "+t+" required");return r}}}},function(t,n,r){"use strict";var e=r(3),o=r(2),i=e.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},function(t,n,r){"use strict";var e=r(47),o=r(50),i=e("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,n,r){"use strict";var e=r(21),o=r(0),i=r(81),s=r(88),a=r(22),c=o([].concat);t.exports=e("Reflect","ownKeys")||function(t){var n=i.f(a(t)),r=s.f;return r?c(n,r(t)):n}},function(t,n,r){"use strict";var e=r(82),o=r(87).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){"use strict";var e=r(0),o=r(9),i=r(28),s=r(83).indexOf,a=r(53),c=e([].push);t.exports=function(t,n){var r,e=i(t),d=0,l=[];for(r in e)!o(a,r)&&o(e,r)&&c(l,r);for(;n.length>d;)o(e,r=n[d++])&&(~s(l,r)||c(l,r));return l}},function(t,n,r){"use strict";var e=r(28),o=r(84),i=r(55),s=function(t){return function(n,r,s){var a=e(n),c=i(a);if(0===c)return!t&&-1;var d,l=o(s,c);if(t&&r!=r){for(;c>l;)if((d=a[l++])!=d)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,n,r){"use strict";var e=r(36),o=Math.max,i=Math.min;t.exports=function(t,n){var r=e(t);return r<0?o(r+n,0):i(r,n)}},function(t,n,r){"use strict";var e=Math.ceil,o=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?o:e)(n)}},function(t,n,r){"use strict";var e=r(36),o=Math.min;t.exports=function(t){var n=e(t);return n>0?o(n,9007199254740991):0}},function(t,n,r){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,n,r){"use strict";n.f=Object.getOwnPropertySymbols},function(t,n,r){"use strict";var e=r(4),o=r(2),i=/#|\.prototype\./,s=function(t,n){var r=c[a(t)];return r===l||r!==d&&(o(n)?e(n):!!n)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=s.data={},d=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},function(t,n,r){"use strict";var e=r(26),o=Function.prototype,i=o.apply,s=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(e?s.bind(i):function(){return s.apply(i,arguments)})},function(t,n,r){"use strict";var e=r(21),o=r(9),i=r(15),s=r(43),a=r(56),c=r(54),d=r(94),l=r(95),u=r(96),p=r(99),f=r(100),h=r(5),g=r(48);t.exports=function(t,n,r,v){var x=v?2:1,b=t.split("."),m=b[b.length-1],y=e.apply(null,b);if(y){var w=y.prototype;if(!g&&o(w,"cause")&&delete w.cause,!r)return y;var C=e("Error"),N=n((function(t,n){var r=u(v?n:t,void 0),e=v?new y(t):new y;return void 0!==r&&i(e,"message",r),f(e,N,e.stack,2),this&&s(w,this)&&l(e,this,N),arguments.length>x&&p(e,arguments[x]),e}));if(N.prototype=w,"Error"!==m?a?a(N,C):c(N,C,{name:!0}):h&&"stackTraceLimit"in y&&(d(N,y,"stackTraceLimit"),d(N,y,"prepareStackTrace")),c(N,y),!g)try{w.name!==m&&i(w,"name",m),w.constructor=N}catch(t){}return N}}},function(t,n,r){"use strict";var e=r(93),o=String,i=TypeError;t.exports=function(t){if(e(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},function(t,n,r){"use strict";var e=r(8);t.exports=function(t){return e(t)||null===t}},function(t,n,r){"use strict";var e=r(16).f;t.exports=function(t,n,r){r in t||e(t,r,{configurable:!0,get:function(){return n[r]},set:function(t){n[r]=t}})}},function(t,n,r){"use strict";var e=r(2),o=r(8),i=r(56);t.exports=function(t,n,r){var s,a;return i&&e(s=n.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(t,a),t}},function(t,n,r){"use strict";var e=r(37);t.exports=function(t,n){return void 0===t?arguments.length<2?"":n:e(t)}},function(t,n,r){"use strict";var e=r(98),o=r(2),i=r(29),s=r(32)("toStringTag"),a=Object,c="Arguments"===i(function(){return arguments}());t.exports=e?i:function(t){var n,r,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=a(t),s))?r:c?i(n):"Object"===(e=i(n))&&o(n.callee)?"Arguments":e}},function(t,n,r){"use strict";var e={};e[r(32)("toStringTag")]="z",t.exports="[object z]"===String(e)},function(t,n,r){"use strict";var e=r(8),o=r(15);t.exports=function(t,n){e(n)&&"cause"in n&&o(t,"cause",n.cause)}},function(t,n,r){"use strict";var e=r(15),o=r(101),i=r(102),s=Error.captureStackTrace;t.exports=function(t,n,r,a){i&&(s?s(t,n):e(t,"stack",o(r,a)))}},function(t,n,r){"use strict";var e=r(0),o=Error,i=e("".replace),s=String(new o("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,n){if(c&&"string"==typeof t&&!o.prepareStackTrace)for(;n--;)t=i(t,a,"");return t}},function(t,n,r){"use strict";var e=r(4),o=r(27);t.exports=!e((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},function(t,n,r){"use strict";var e=r(5),o=r(104),i=TypeError,s=Object.getOwnPropertyDescriptor,a=e&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,n){if(o(t)&&!s(t,"length").writable)throw new i("Cannot set read only .length");return t.length=n}:function(t,n){return t.length=n}},function(t,n,r){"use strict";var e=r(29);t.exports=Array.isArray||function(t){return"Array"===e(t)}},function(t,n,r){"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},function(t,n,r){"use strict";var e=r(35),o=r(0),i=r(37),s=r(58),a=URLSearchParams,c=a.prototype,d=o(c.append),l=o(c.delete),u=o(c.forEach),p=o([].push),f=new a("a=1&a=2&b=3");f.delete("a",1),f.delete("b",void 0),f+""!="a=2"&&e(c,"delete",(function(t){var n=arguments.length,r=n<2?void 0:arguments[1];if(n&&void 0===r)return l(this,t);var e=[];u(this,(function(t,n){p(e,{key:n,value:t})})),s(n,1);for(var o,a=i(t),c=i(r),f=0,h=0,g=!1,v=e.length;f<v;)o=e[f++],g||o.key===a?(g=!0,l(this,o.key)):h++;for(;h<v;)(o=e[h++]).key===a&&o.value===c||d(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},function(t,n,r){"use strict";var e=r(35),o=r(0),i=r(37),s=r(58),a=URLSearchParams,c=a.prototype,d=o(c.getAll),l=o(c.has),u=new a("a=1");!u.has("a",2)&&u.has("a",void 0)||e(c,"has",(function(t){var n=arguments.length,r=n<2?void 0:arguments[1];if(n&&void 0===r)return l(this,t);var e=d(this,t);s(n,1);for(var o=i(r),a=0;a<e.length;)if(e[a++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},function(t,n,r){"use strict";var e=r(5),o=r(0),i=r(109),s=URLSearchParams.prototype,a=o(s.forEach);e&&!("size"in s)&&i(s,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},function(t,n,r){"use strict";var e=r(52),o=r(16);t.exports=function(t,n,r){return r.get&&e(r.get,n,{getter:!0}),r.set&&e(r.set,n,{setter:!0}),o.f(t,n,r)}},function(t,n,r){"use strict";r(59)},function(t,n,r){(n=r(17)(!1)).push([t.i,'.add-node-btn-box[data-v-447ace59]{width:240px;display:inline-flex;flex-shrink:0;position:relative}.add-node-btn-box[data-v-447ace59]:first-child{margin-left:16px}.add-node-btn-box[data-v-447ace59]:before{content:"";position:absolute;top:1px;left:0px;right:0;bottom:0;z-index:-1;margin:auto;width:1px;background-color:#ebebeb}.add-node-btn-box .btn[data-v-447ace59]{outline:none;cursor:pointer;box-shadow:0 2px 4px 0 rgba(0,0,0,.1);width:30px;height:30px;background:#4880ff;border-radius:50%;position:relative;border:none;line-height:30px;-webkit-transition:all .3s cubic-bezier(0.645, 0.045, 0.355, 1);transition:all .3s cubic-bezier(0.645, 0.045, 0.355, 1)}',""]),t.exports=n},function(t,n,r){"use strict";r(60)},function(t,n,r){var e=r(17),o=r(114);(n=e(!1)).i(o),n.push([t.i,"",""]),t.exports=n},function(t,n,r){(n=r(17)(!1)).push([t.i,'.header {\r\n    display   : flex;\r\n    padding   : 10px 10px 10px 30px;\r\n    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, .06);\r\n\r\n    .zoom {\r\n        span {\r\n            padding: 0 10px;\r\n        }\r\n\r\n        height     : 40px;\r\n        line-height: 40px;\r\n        width      : 125px;\r\n        z-index    : 10;\r\n        display    : flex;\r\n\r\n        .zoom-in,\r\n        .zoom-out {\r\n            width            : 30px;\r\n            height           : 30px;\r\n            margin-top       : 5px;\r\n            background       : #fff;\r\n            color            : #c1c1cd;\r\n            cursor           : pointer;\r\n            background-size  : 100%;\r\n            background-repeat: no-repeat;\r\n        }\r\n\r\n        .zoom-out {\r\n            background-image: url(https://gw.alicdn.com/tfs/TB1s0qhBHGYBuNjy0FoXXciBFXa-90-90.png);\r\n        }\r\n\r\n        .zoom-out.disabled {\r\n            opacity: 0.5;\r\n        }\r\n\r\n        .zoom-in {\r\n            background-image: url(https://gw.alicdn.com/tfs/TB1UIgJBTtYBeNjy1XdXXXXyVXa-90-90.png);\r\n        }\r\n\r\n        .zoom-in.disabled {\r\n            opacity: 0.5;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n.btn-style {\r\n    position: fixed;\r\n    right   : 60px;\r\n}\r\n\r\n.workflow {\r\n    width: 100%;\r\n}\r\n\r\n.approval-flow {\r\n\r\n    .error_tip {\r\n        position : absolute;\r\n        top      : 36px;\r\n        right    : 0px;\r\n        transform: translate(150%, 0px);\r\n\r\n        i {\r\n            font-size: 24px;\r\n        }\r\n    }\r\n\r\n    .block-hover {\r\n        background-color: rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n\r\n    .dingflow-design {\r\n        padding-top   : 20px;\r\n        padding-bottom: 100px;\r\n\r\n        .box-scale {\r\n            display        : inline-block;\r\n            position       : relative;\r\n            width          : 100%;\r\n            padding        : 54.5px 0px;\r\n            align-items    : flex-start;\r\n            justify-content: center;\r\n            flex-wrap      : wrap;\r\n            min-width      : min-content;\r\n\r\n            .node-wrap-box {\r\n                display       : inline-flex;\r\n                flex-direction: column;\r\n                position      : relative;\r\n                width         : 280px;\r\n                min-height    : 72px;\r\n                flex-shrink   : 0;\r\n                background    : rgb(255, 255, 255);\r\n                border-radius : 4px;\r\n                cursor        : pointer;\r\n                box-shadow    : 0 2px 5px 0 rgba(0, 0, 0, 0.1);\r\n            }\r\n\r\n            .node-wrap-box:after {\r\n                pointer-events: none;\r\n                content       : "";\r\n                position      : absolute;\r\n                top           : 0;\r\n                bottom        : 0;\r\n                left          : 0;\r\n                right         : 0;\r\n                z-index       : 2;\r\n                border-radius : 4px;\r\n                border        : 1px solid transparent;\r\n                transition    : all 0.1s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n                box-shadow    : 0 2px 5px 0 rgba(0, 0, 0, 0.1);\r\n            }\r\n\r\n            .end-node {\r\n                justify-content: center;\r\n                flex-direction : column;\r\n\r\n                p {\r\n                    width           : 280px;\r\n                    height          : 40px;\r\n                    line-height     : 40px;\r\n                    color           : #fff;\r\n                    text-align      : center;\r\n                    background-color: #8cafff;\r\n                    border-radius   : 4px;\r\n                    font-size       : 14px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n.fd-nav-content {\r\n    position      : fixed;\r\n    top           : 60px;\r\n    left          : 0;\r\n    right         : 0;\r\n    bottom        : 0;\r\n    z-index       : 1;\r\n    overflow-x    : hidden;\r\n    overflow-y    : auto;\r\n    padding-bottom: 30px;\r\n}\r\n\r\n.dingflow-design {\r\n    width           : 100%;\r\n    background-color: #f5f8ff;\r\n    overflow        : auto;\r\n    position        : absolute;\r\n    bottom          : 0;\r\n    left            : 0;\r\n    right           : 0;\r\n    top             : 0;\r\n}\r\n\r\n.editable-title {\r\n    font-size   : 14px;\r\n    padding-left: 18px;\r\n}\r\n\r\n.dingflow-design .ie-polyfill-container {\r\n    display         : -ms-grid;\r\n    -ms-grid-columns: min-content;\r\n}\r\n\r\n.dingflow-design .node-wrap {\r\n    flex-direction   : column;\r\n    -webkit-box-pack : start;\r\n    -ms-flex-pack    : start;\r\n    justify-content  : flex-start;\r\n    -webkit-box-align: center;\r\n    -ms-flex-align   : center;\r\n    align-items      : center;\r\n    -ms-flex-wrap    : wrap;\r\n    flex-wrap        : wrap;\r\n    -webkit-box-flex : 1;\r\n    -ms-flex-positive: 1;\r\n    position         : relative;\r\n}\r\n\r\n.dingflow-design .branch-wrap,\r\n.dingflow-design .node-wrap {\r\n    display: inline-flex;\r\n}\r\n\r\n\r\n.dingflow-design .auto-judge.active:after,\r\n.dingflow-design .auto-judge:active:after,\r\n.dingflow-design .auto-judge:hover:after {\r\n    border    : 1px solid #4880ff;\r\n    box-shadow: 0 0 6px 0 rgba(50, 150, 250, 0.3);\r\n}\r\n\r\n.dingflow-design .auto-judge.active .close,\r\n.dingflow-design .auto-judge:active .close,\r\n.dingflow-design .auto-judge:hover .close {\r\n    display: block;\r\n}\r\n\r\n.dingflow-design .auto-judge.error:after {\r\n    border    : 1px solid #f25643;\r\n    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.dingflow-design .auto-judge .title-wrapper .editable-title {\r\n    display      : inline-block;\r\n    max-width    : 120px;\r\n    overflow     : hidden;\r\n    white-space  : nowrap;\r\n    text-overflow: ellipsis;\r\n    font-size    : 16px;\r\n}\r\n\r\n.dingflow-design .auto-judge .title-wrapper .priority-title {\r\n    display     : inline-block;\r\n    float       : right;\r\n    margin-right: 25px;\r\n    color       : #828282;\r\n}\r\n\r\n.dingflow-design .auto-judge .title-wrapper .priority-button {\r\n    display      : inline-block;\r\n    height       : 28px;\r\n    float        : right;\r\n    margin-right : 10px;\r\n    border       : 1px solid rgba(0, 0, 0, 0.15);\r\n    border-radius: 4px;\r\n    color        : rgba(0, 0, 0, 0.65);\r\n}\r\n\r\n.dingflow-design .auto-judge .title-wrapper .priority-button div {\r\n    display: inline-block;\r\n}\r\n\r\n.dingflow-design .auto-judge .title-wrapper .priority-button .priority-content {\r\n    padding     : 0 8px;\r\n    font-size   : 12px;\r\n    line-height : 28px;\r\n    border-left : 1px solid rgba(0, 0, 0, 0.15);\r\n    border-right: 1px solid rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.dingflow-design .auto-judge .placeholder {\r\n    color: #bfbfbf;\r\n}\r\n\r\n.dingflow-design .auto-judge .close {\r\n    display      : none;\r\n    position     : absolute;\r\n    right        : 12px;\r\n    top          : 9px;\r\n    width        : 20px;\r\n    height       : 20px;\r\n    font-size    : 18px;\r\n    color        : rgba(0, 0, 0, 0.5);\r\n    border-radius: 50%;\r\n    text-align   : center;\r\n    line-height  : 20px;\r\n    z-index      : 2;\r\n}\r\n\r\n.dingflow-design .auto-judge .content {\r\n    padding      : 15px 26px;\r\n    overflow     : hidden;\r\n    text-overflow: ellipsis;\r\n    font-size    : 14px;\r\n}\r\n\r\n.dingflow-design .auto-judge .text {\r\n    min-height: 22px;\r\n}\r\n\r\n.dingflow-design .auto-judge .sort-left,\r\n.dingflow-design .auto-judge .sort-right {\r\n    position: absolute;\r\n    top     : 0;\r\n    bottom  : 0;\r\n    display : none;\r\n    z-index : 1;\r\n    color   : rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n.dingflow-design .auto-judge .sort-left {\r\n    left: 8px;\r\n    top : 35px;\r\n}\r\n\r\n.dingflow-design .auto-judge .sort-right {\r\n    right: 26px;\r\n    top  : 35px;\r\n}\r\n\r\n.dingflow-design .auto-judge:hover .sort-left,\r\n.dingflow-design .auto-judge:hover .sort-right {\r\n    display    : flex;\r\n    align-items: center;\r\n    color      : rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.dingflow-design .add-node-btn {\r\n    user-select     : none;\r\n    width           : 240px;\r\n    padding         : 30px 0;\r\n    display         : flex;\r\n    -webkit-box-pack: center;\r\n    justify-content : center;\r\n    flex-shrink     : 0;\r\n    -webkit-box-flex: 1;\r\n    flex-grow       : 1;\r\n}\r\n\r\n.dingflow-design .add-node-btn .btn {\r\n    outline           : none;\r\n    box-shadow        : 0 2px 4px 0 rgba(0, 0, 0, 0.1);\r\n    width             : 30px;\r\n    height            : 30px;\r\n    background        : #4880ff;\r\n    border-radius     : 50%;\r\n    position          : relative;\r\n    border            : none;\r\n    line-height       : 30px;\r\n    -webkit-transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    transition        : all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n}\r\n\r\n.dingflow-design .add-node-btn .btn .iconfont {\r\n    color    : #fff;\r\n    font-size: 16px;\r\n}\r\n\r\n.dingflow-design .add-node-btn .btn:hover {\r\n    transform : scale(1.3);\r\n    box-shadow: 0 13px 27px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.dingflow-design .add-node-btn .btn:active {\r\n    transform : none;\r\n    background: #1e83e9;\r\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.top-left-cover-line {\r\n    left: -1px;\r\n}\r\n\r\n.top-left-cover-line,\r\n.top-right-cover-line {\r\n    position        : absolute;\r\n    height          : 3px;\r\n    width           : 50%;\r\n    background-color: #f5f8ff;\r\n    top             : -2px;\r\n}\r\n\r\n.top-right-cover-line {\r\n    right: -1px;\r\n}\r\n\r\n.bottom-left-cover-line {\r\n    left: -1px;\r\n}\r\n\r\n.bottom-left-cover-line,\r\n.bottom-right-cover-line {\r\n    position        : absolute;\r\n    height          : 3px;\r\n    width           : 50%;\r\n    background-color: #f5f8ff;\r\n    bottom          : -2px;\r\n}\r\n\r\n.bottom-right-cover-line {\r\n    right: -1px;\r\n}\r\n\r\n.node-wrap-box.active:after,\r\n.node-wrap-box:active:after,\r\n.node-wrap-box:hover:after {\r\n    border    : 1px solid #3296fa;\r\n    box-shadow: 0 0 6px 0 rgba(50, 150, 250, 0.3);\r\n}\r\n\r\n.node-wrap-box.active .close,\r\n.node-wrap-box:active .close,\r\n.node-wrap-box:hover .close {\r\n    display: block;\r\n}\r\n\r\n.node-wrap-box.error:after {\r\n    border    : 1px solid #f25643;\r\n    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.node-wrap-box .title {\r\n    position     : relative;\r\n    display      : flex;\r\n    align-items  : center;\r\n    padding-left : 0px;\r\n    height       : 40px;\r\n    line-height  : 40px;\r\n    font-size    : 16px;\r\n    color        : #fff;\r\n    text-align   : left;\r\n    background   : #576a95;\r\n    border-radius: 4px 4px 0 0;\r\n}\r\n\r\n.node-wrap-box .title .iconfont {\r\n    font-size   : 12px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.node-wrap-box .placeholder {\r\n    color: #bfbfbf;\r\n}\r\n\r\n.node-wrap-box .close {\r\n    display      : none;\r\n    position     : absolute;\r\n    right        : 10px;\r\n    top          : 50%;\r\n    transform    : translateY(-50%);\r\n    width        : 20px;\r\n    height       : 20px;\r\n    font-size    : 14px;\r\n    color        : #fff;\r\n    border-radius: 50%;\r\n    text-align   : center;\r\n    line-height  : 20px;\r\n}\r\n\r\n.node-wrap-box .content {\r\n    position        : relative;\r\n    font-size       : 14px;\r\n    padding         : 15px 18px;\r\n    /* padding-right: 30px */\r\n}\r\n\r\n.node-wrap-box .content .text {\r\n    overflow          : hidden;\r\n    text-overflow     : ellipsis;\r\n    display           : -webkit-box;\r\n    padding-bottom    : 5px;\r\n    -webkit-line-clamp: 3;\r\n    -webkit-box-orient: vertical;\r\n}\r\n\r\n.node-wrap-box .content .arrow {\r\n    position : absolute;\r\n    right    : 10px;\r\n    top      : 50%;\r\n    transform: translateY(-50%);\r\n    width    : 20px;\r\n    height   : 14px;\r\n    font-size: 14px;\r\n    color    : #979797;\r\n}\r\n\r\n.start-node.node-wrap-box .content .text {\r\n    display    : block;\r\n    white-space: nowrap;\r\n}\r\n\r\n.node-wrap {\r\n    display        : inline-flex;\r\n    width          : 100%;\r\n    flex-flow      : column wrap;\r\n    justify-content: flex-start;\r\n    align-items    : center;\r\n    padding        : 0px 50px;\r\n    position       : relative;\r\n    z-index        : 1;\r\n}\r\n\r\n.add-node-btn-box {\r\n    width      : 240px;\r\n    display    : inline-flex;\r\n    flex-shrink: 0;\r\n    position   : relative;\r\n    z-index    : 1;\r\n}\r\n\r\n.add-node-btn-box:before {\r\n    content         : "";\r\n    position        : absolute;\r\n    top             : 0px;\r\n    left            : 0px;\r\n    right           : 0px;\r\n    bottom          : 0px;\r\n    z-index         : -1;\r\n    margin          : auto;\r\n    width           : 2px;\r\n    height          : 100%;\r\n    background-color: rgb(202, 202, 202);\r\n}\r\n\r\n.add-node-btn {\r\n    user-select    : none;\r\n    width          : 240px;\r\n    padding        : 20px 0px 32px;\r\n    display        : flex;\r\n    justify-content: center;\r\n    flex-shrink    : 0;\r\n    flex-grow      : 1;\r\n}\r\n\r\n\r\n\r\n.add-branch {\r\n    justify-content : center;\r\n    padding         : 0px 10px;\r\n    position        : absolute;\r\n    top             : -16px;\r\n    left            : 50%;\r\n    transform       : translateX(-50%);\r\n    transform-origin: center center;\r\n    z-index         : 1;\r\n    display         : inline-flex;\r\n    align-items     : center;\r\n}\r\n\r\n.branch-wrap {\r\n    display: inline-flex;\r\n    width  : 100%;\r\n}\r\n\r\n.branch-box-wrap {\r\n    display    : flex;\r\n    flex-flow  : column wrap;\r\n    align-items: center;\r\n    min-height : 270px;\r\n    width      : 100%;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.col-box {\r\n    display         : inline-flex;\r\n    flex-direction  : column;\r\n    align-items     : center;\r\n    position        : relative;\r\n    background-color: #f5f8ff;\r\n}\r\n\r\n.branch-box {\r\n    display      : flex;\r\n    overflow     : visible;\r\n    min-height   : 180px;\r\n    height       : auto;\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.05);\r\n    border-top   : 1px solid rgba(0, 0, 0, 0.05);\r\n    position     : relative;\r\n    margin-top   : 15px;\r\n}\r\n\r\n.branch-box .col-box::before {\r\n    content         : "";\r\n    position        : absolute;\r\n    top             : 0px;\r\n    left            : 0px;\r\n    right           : 0px;\r\n    bottom          : 0px;\r\n    z-index         : 0;\r\n    margin          : auto;\r\n    width           : 1px;\r\n    height          : 100%;\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.condition-node {\r\n    display       : inline-flex;\r\n    flex-direction: column;\r\n    min-height    : 220px;\r\n}\r\n\r\n.condition-node-box {\r\n    padding-top    : 30px;\r\n    padding-right  : 50px;\r\n    padding-left   : 50px;\r\n    justify-content: center;\r\n    align-items    : center;\r\n    flex-grow      : 1;\r\n    position       : relative;\r\n    display        : inline-flex;\r\n    flex-direction : column;\r\n}\r\n\r\n.auto-judge {\r\n    position     : relative;\r\n    width        : 280px;\r\n    min-height   : 100px;\r\n    background   : #fff;\r\n    border-radius: 4px;\r\n    cursor       : pointer;\r\n\r\n    .title-wrapper {\r\n        position     : relative;\r\n        font-size    : 12px;\r\n        color        : #333;\r\n        text-align   : left;\r\n        height       : 38px;\r\n        line-height  : 38px;\r\n        padding      : 0 13px 0 0px;\r\n        border-bottom: 1px solid #ebebeb;\r\n    }\r\n}\r\n\r\n.auto-judge:after {\r\n    pointer-events: none;\r\n    content       : "";\r\n    position      : absolute;\r\n    top           : 0;\r\n    bottom        : 0;\r\n    left          : 0;\r\n    right         : 0;\r\n    z-index       : 2;\r\n    border-radius : 4px;\r\n    transition    : all 0.1s;\r\n}\r\n\r\n.auto-judge:hover:after {\r\n    border    : 1px solid #3296fa;\r\n    box-shadow: 0 0 6px 0 rgba(50, 150, 250, 0.3);\r\n}\r\n\r\n.node-wrap-box:after {\r\n    pointer-events: none;\r\n    content       : "";\r\n    position      : absolute;\r\n    top           : 0;\r\n    bottom        : 0;\r\n    left          : 0;\r\n    right         : 0;\r\n    z-index       : 2;\r\n    border-radius : 4px;\r\n    transition    : all 0.1s;\r\n}\r\n\r\n.node-wrap-box:hover:after {\r\n    border    : 1px solid #3296fa;\r\n    box-shadow: 0 0 6px 0 rgba(50, 150, 250, 0.3);\r\n}\r\n\r\n\r\n.flex {\r\n    display: flex;\r\n}\r\n\r\n.edit_button {\r\n    margin-left: 10px;\r\n}\r\n\r\n\r\n\r\n\r\n.default-style {\r\n    margin-left: 25px;\r\n}\r\n\r\n.search-style {\r\n    label {\r\n        width: 50px !important;\r\n    }\r\n\r\n    .el-row {\r\n        padding-right: 0px !important;\r\n    }\r\n\r\n    .el-form-item__content {\r\n        margin-left: 50px !important;\r\n    }\r\n}\r\n\r\n.flex-style {\r\n    display        : flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.dang-style {\r\n    font-size: 14px;\r\n}\r\n\r\n.dialog-style {\r\n    z-index   : 99999 !important;\r\n    background: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.v-modal {\r\n    background: none !important;\r\n    z-index   : -1 !important;\r\n}\r\n\r\n\r\n.el-drawer:focus,\r\n.el-drawer__close-btn:focus {\r\n    outline: none;\r\n}\r\n\r\n.el-dialog__title {\r\n    font-size  : 18px !important;\r\n    font-weight: 600 !important;\r\n}\r\n\r\n.set_promoter {\r\n    .el-drawer__header {\r\n        margin-bottom: 0;\r\n        padding      : 0 24px;\r\n        border-bottom: 1px solid #ebebeb;\r\n\r\n        .title {\r\n            height         : 60px;\r\n            line-height    : 60px;\r\n            font-size      : 20px;\r\n            color          : #333;\r\n            justify-content: flex-start;\r\n\r\n            i {\r\n                margin-left: 8px;\r\n                font-size  : 30px;\r\n            }\r\n\r\n            .el-input {\r\n                width: 80%;\r\n            }\r\n        }\r\n    }\r\n\r\n    .el-drawer__body {\r\n        overflow-y    : auto;\r\n        max-height    : calc(100% - 64px);\r\n        padding-bottom: 80px;\r\n    }\r\n\r\n    .drawer-content {\r\n        padding: 0 24px;\r\n\r\n        .el-radio {\r\n            margin-bottom: 16px;\r\n\r\n            .mark {\r\n                color: #828282;\r\n            }\r\n\r\n            &.is-checked {\r\n                .mark {\r\n                    color: #4880ff;\r\n                }\r\n            }\r\n\r\n            &:last-child {\r\n                margin-bottom: 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    .drawer-content-condition {\r\n        padding: 24px 0;\r\n\r\n        .condition-conent-group {\r\n            border-bottom : solid 1px #ebebeb;\r\n            padding-bottom: 20px;\r\n\r\n            .condition-group-title {\r\n                padding        : 0 24px;\r\n                background     : #f7f8fa;\r\n                height         : 48px;\r\n                border-top     : solid 1px #ebebeb;\r\n                border-bottom  : solid 1px #ebebeb;\r\n                margin-bottom  : 12px;\r\n                display        : flex;\r\n                justify-content: space-between;\r\n                align-items    : center;\r\n            }\r\n\r\n            .condition-group-select {\r\n                padding: 0 24px;\r\n            }\r\n\r\n            .remove {\r\n                color: #828282;\r\n\r\n                &:hover {\r\n                    cursor: pointer;\r\n                    color : #4880ff;\r\n                }\r\n            }\r\n\r\n            .mg-bot-10 {\r\n                margin-bottom: 10px;\r\n            }\r\n\r\n            .conditionbtn {\r\n                .el-button {\r\n                    border: 1px dashed #4880ff;\r\n                    width : 110px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .conditionbtn {\r\n            padding   : 0 24px;\r\n            margin-top: 26px;\r\n\r\n            .el-button {\r\n                border: solid 1px #4880ff;\r\n                color : #4880ff;\r\n                width : 123px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .set_promoter_footer {\r\n        height         : 80px;\r\n        position       : absolute;\r\n        bottom         : 0;\r\n        left           : 0;\r\n        padding        : 24px;\r\n        justify-content: flex-end;\r\n        background     : #fff;\r\n        width          : 100%;\r\n        border-top     : 1px solid #ebebeb;\r\n        z-index        : 2;\r\n\r\n        .el-button {\r\n            line-height: 0px;\r\n        }\r\n    }\r\n\r\n    .icon-icon_explain {\r\n        color: #bfbfbf;\r\n    }\r\n}\r\n\r\n.form {\r\n    padding: 10px 20px;\r\n\r\n    .el-form-item__label {\r\n        font-weight: 700;\r\n    }\r\n\r\n    .mb-20 {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .w-100 {\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.el-popover {\r\n    min-width: unset !important;\r\n}\r\n\r\n.add-node-popover {\r\n    padding: 14px 26px;\r\n\r\n    .img-style {\r\n        width: 36px;\r\n    }\r\n\r\n    .add-node-popover-body {\r\n        display  : flex;\r\n        min-width: unset !important;\r\n\r\n        .add-node-popover-item {\r\n            margin-right: 20px;\r\n            text-align  : center;\r\n            cursor      : pointer;\r\n\r\n            &:last-child {\r\n                margin-right: 0;\r\n            }\r\n\r\n            i {\r\n                font-size: 36px;\r\n            }\r\n\r\n            p {\r\n                color        : #333;\r\n                margin-top   : 4px;\r\n                margin-bottom: 0;\r\n            }\r\n        }\r\n\r\n\r\n        .approver {\r\n            i {\r\n                color: #e6a23c;\r\n            }\r\n        }\r\n\r\n        .condition {\r\n            i {\r\n                color: #67c23a;\r\n            }\r\n        }\r\n\r\n        .notifier {\r\n            i {\r\n                color: #4880ff;\r\n            }\r\n        }\r\n    }\r\n}',""]),t.exports=n},function(t,n,r){"use strict";r(116)},function(t,n,r){"use strict";var e=r(7),o=r(117);e({target:"Set",proto:!0,real:!0,forced:!r(13)("difference")},{difference:o})},function(t,n,r){"use strict";var e=r(10),o=r(6),i=r(38),s=r(19),a=r(12),c=r(18),d=r(11),l=o.has,u=o.remove;t.exports=function(t){var n=e(this),r=a(t),o=i(n);return s(n)<=r.size?c(n,(function(t){r.includes(t)&&u(o,t)})):d(r.getIterator(),(function(t){l(n,t)&&u(o,t)})),o}},function(t,n,r){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},function(t,n,r){"use strict";r(120)},function(t,n,r){"use strict";var e=r(7),o=r(4),i=r(121);e({target:"Set",proto:!0,real:!0,forced:!r(13)("intersection")||o((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:i})},function(t,n,r){"use strict";var e=r(10),o=r(6),i=r(19),s=r(12),a=r(18),c=r(11),d=o.Set,l=o.add,u=o.has;t.exports=function(t){var n=e(this),r=s(t),o=new d;return i(n)>r.size?c(r.getIterator(),(function(t){u(n,t)&&l(o,t)})):a(n,(function(t){r.includes(t)&&l(o,t)})),o}},function(t,n,r){"use strict";r(123)},function(t,n,r){"use strict";var e=r(7),o=r(124);e({target:"Set",proto:!0,real:!0,forced:!r(13)("isDisjointFrom")},{isDisjointFrom:o})},function(t,n,r){"use strict";var e=r(10),o=r(6).has,i=r(19),s=r(12),a=r(18),c=r(11),d=r(61);t.exports=function(t){var n=e(this),r=s(t);if(i(n)<=r.size)return!1!==a(n,(function(t){if(r.includes(t))return!1}),!0);var l=r.getIterator();return!1!==c(l,(function(t){if(o(n,t))return d(l,"normal",!1)}))}},function(t,n,r){"use strict";r(126)},function(t,n,r){"use strict";var e=r(7),o=r(127);e({target:"Set",proto:!0,real:!0,forced:!r(13)("isSubsetOf")},{isSubsetOf:o})},function(t,n,r){"use strict";var e=r(10),o=r(19),i=r(18),s=r(12);t.exports=function(t){var n=e(this),r=s(t);return!(o(n)>r.size)&&!1!==i(n,(function(t){if(!r.includes(t))return!1}),!0)}},function(t,n,r){"use strict";r(129)},function(t,n,r){"use strict";var e=r(7),o=r(130);e({target:"Set",proto:!0,real:!0,forced:!r(13)("isSupersetOf")},{isSupersetOf:o})},function(t,n,r){"use strict";var e=r(10),o=r(6).has,i=r(19),s=r(12),a=r(11),c=r(61);t.exports=function(t){var n=e(this),r=s(t);if(i(n)<r.size)return!1;var d=r.getIterator();return!1!==a(d,(function(t){if(!o(n,t))return c(d,"normal",!1)}))}},function(t,n,r){"use strict";r(132)},function(t,n,r){"use strict";var e=r(7),o=r(133);e({target:"Set",proto:!0,real:!0,forced:!r(13)("symmetricDifference")},{symmetricDifference:o})},function(t,n,r){"use strict";var e=r(10),o=r(6),i=r(38),s=r(12),a=r(11),c=o.add,d=o.has,l=o.remove;t.exports=function(t){var n=e(this),r=s(t).getIterator(),o=i(n);return a(r,(function(t){d(n,t)?l(o,t):c(o,t)})),o}},function(t,n,r){"use strict";r(135)},function(t,n,r){"use strict";var e=r(7),o=r(136);e({target:"Set",proto:!0,real:!0,forced:!r(13)("union")},{union:o})},function(t,n,r){"use strict";var e=r(10),o=r(6).add,i=r(38),s=r(12),a=r(11);t.exports=function(t){var n=e(this),r=s(t).getIterator(),c=i(n);return a(r,(function(t){o(c,t)})),c}},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAuCAYAAAC4e0AJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAATDSURBVGhDxVlnb1NJFPXvYkFLXZYiQIBg0S4fQEIEEkhgaYElNIEQEJQtJPQS2vKBJjoCtJs4hXST4vTiGAgkAUcYEurFZ3hjnp/v83vj59hHOh8Sz9w5026Z56IE4gt9pudvu6l9yEN3fIV0o/s4/ffsCvnetFDgfb/WKnFwJP7jlw9U8fI+5TduoHVl0ymtaCwtLxpjyvTiH2lLxXy62H6QOobqNSvxIy7xfe98QnCGezwr0i4x4WtdR2jk0zvNshqUxA+O9NGf9Vm0ongcKyZeZpZMoatdBWInVWBLPM7y3d6ztLpkEjt4oogj1Rao00a1hqX44IcA/d3we+g8/8AOmGhmuCfQbd8ZsWBWiCl+YPgZ7alZyg4ymsSxPNe2z3ICpuIhfEf1b6zxZBCe60zL7pgTYMXj9ud6MlijySR24EbPCU1VNKLEY6anmncl7YxbEU6i/MVdTV0kosQ/9F9KuCt0yg3ls8gfbNcUfkeEeDRAQ85Aqnm4KTvq/EeIP9m8k+1olzmVv7ArJFHd/4jWlk5j+1oRLhSpiB5h8cg11pXNYDva5c2ek5o1cxQ0bmL72mFefWbE6ofFI1niOqgQmeQ3W7mhFf45ggh0gJPdzSyZTE8GS4QdQIhHFN1R9SvbQYVSPCdwX12a6W8qRPCSEOIxG8yKa6zCZIjfWb2Ygh+HhC0h/kpnPttQlckQn1X6E7UEaoQtIf6AZyXbUJXJEI/geb/3vLDlQnmWU7mQbahKKR42Ufrp2R/KlQCn4kHYAFz+YJuoaLhGqtwfWt1YVRGSva2VC9i+KsRJAVw4PzhHXKN4iFwErhEiEbBqB/6njeWzxf8QaLg+qtxds4Tefx4mF6KWU6MorPU+3Uy85JrSqY7yJxxzHE3H4rMfz6WnbzvFNqqg4VVZaBLx7XhYvFMfj3APwPcaL6kZMbATRyF9vQvG4k2WQHnz4Wm43zmijxPx0u26Xo28UPIAOGIoz/AaBspco/uNV/yNncAdMPZDWZfrSQ/3wYXDa5q0k9+40fY9ONG8XYzpQpa2t3YZ24ijPrcwA5c5Sg9hBuiAqzX24yizVxFhC1v3sI04ykCEKIc6V89LHXniNxg39pOrVdX/MKrf6ZZd4gzbCWCr3BNFXQAI8cXPr7NbzdFOCsCd/1h3Q3oPO+Lh3V4O+4UtIR6RD69VXGMjUy3+SNMWYQcQ4gH8k2tsZCrFp7vHU2nfLWEHCIuvGyiy9RaZSvEomFA4SYTF47b/Vb+W7aSnFJ/sCws3imcZPcLiAe/rSsuQPZquEgW2sZ8k3kyNGWuEeADFc6zXMgSpo94/wsHFSDtBiuNx7zbTIIX0xTPo1hR+R5R4zC4VL8NmxEJe7jykqYtElHgAH8TWl81kjSWbuBNmBQ4rHsD5T/UEUDHpvYsRpuKBVE7ASjgQUzzgC7bStqpF7ACjQVzsY96cmLWwhKV4ACvwT8N6YZgbMFFEkMSHO/17ZCzYEi/xJOSuNlfMYwd2QiwKPpHiU6kKlMQD+FZ6r/ccbXo8hxWiQohGDt8aqNWsq0FZvAS2Ft9MCxqzRRlp9zMQAhF2D74b2awTxC3eCOQmTa8r6FbPKZGh6nOXC2376YH/X1F8q37lNgfRV6+zxwWtlPEWAAAAAElFTkSuQmCC"},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA1CAYAAAAK0RhzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANESURBVGhD7Zm7bhQxFIZ5Tuh4AXgBqognSJN2W4RCRUcTUUFDF1FR0YBoSJEbyRp/gwwHz7F9fJndYcUv/WJ3M2Ofb2wfnzEP3IHqP9i/pkXALr5t3ce3d+5sc+tePb92m6dX7uTxpTt++Mt85jf+xjVcyz0jNQzs8mLrPrz+4V48u/4NUGvupQ3a6lU3GE+ap378SA+2yb4t2uwZxS6w96eDgWL7tumjRU1gXz7dd025WtMXfdaoGoyFvugopez7pG+rqsBY2GqnOzQxWGQGWwNUsAXOBDZNP6WDfbo0LYtgLNq9rKmSfUy5hFIEs2S/zZMr9+7lrft8fj/E52d3U5taX9LEllIWbNqnlAZjE8xoff+6VfuKndrnkmDs+pYpeHr056kRTPz0WxxE21qff9nHqFUoSbCpTNIaiizBTIEU3NIescZSwShCrQljDWDEGhfOKljNnrUKMO94b1PBaurAtYDFGXIGNiUN5caUc4Hw3WKZ2vkexGfZXskyiczAaqsMLRACrVWA6wGT1cgMzJoNg1OBkPprVGrPYpkdZ2CcQ2g3pZwLhO8Wj5qKxB40A+OQRbsp5Z5ANPe0R+xBMzB5mmTxEmChArHUi9LEHjQD027IOQX25uRmKmZj87u8f7SDFgErZUXrSNBe7agFLTYVmUpkxtiMmrw/ZVkMW+GyU3HfyQMDL2V9GNnkMTLdt5oRYnSDeInVroudTfejNugWM/1Ccglw1tHC2Q16REnVYrmmJFx8Xc7ZkmpkEWy1hApqaStbBKNdvrZoUDXTL7j42oJ29aI5CgqbXjR3cTQwEsp8NICs2bEFjPQdqxnKW2bDoCTYlEQMoybBGAXNsj4k08XqgSJGmTSCkmDIcmBKoASfk9xgYzDr5pty9YFpkCVDEmzuiFuOGJ8ZIf6tWZOa40woVQQ72P+UQLXVyC4sqwxNJjBUs7ct7XjP0mQGQ2uAs0ChKjA0Tct9rDnfZ2n6SVWDIRZtTT3Za/rKJQpNTWBB0z635Oj5tlP7VEldYIhdfyq/RgL6tmhTqyis6gYLoghlYfdMUe6ljbigbdEwMCmeNAudp845BIcs8vSLz/zG37iGa3tGR9MiYGvQgYI59xND0dqcXP/WawAAAABJRU5ErkJggg=="},function(t,n,r){"use strict";r(62)},function(t,n,r){(n=r(17)(!1)).push([t.i,".add-branch[data-v-bca9c6ae]{transition:width .3s cubic-bezier(0.645, 0.045, 0.355, 1) !important}",""]),t.exports=n},function(t,n,r){"use strict";r(63)},function(t,n,r){(n=r(17)(!1)).push([t.i,".column[data-v-cee65956]{display:grid;grid-template-rows:1;row-gap:10px;margin-bottom:10px}.flex[data-v-cee65956]{display:flex;align-items:center;height:30px;justify-content:space-between}",""]),t.exports=n},function(t,n,r){"use strict";r.r(n);var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"workflow"},[n("div",{staticClass:"approval-flow fd-nav-content",staticStyle:{top:"0"}},[n("div",{staticClass:"dingflow-design"},[n("div",{staticClass:"box-scale",attrs:{id:"box-scale"}},[n("nodeWrap",t._b({attrs:{isTried:t.isTried},model:{value:t.nodeConfig,callback:function(n){t.nodeConfig=n},expression:"nodeConfig"}},"nodeWrap",t.$attrs,!1))],1)])]),t._v(" "),n("editor",{ref:"editor"})],1)};e._withStripped=!0;r(20),r(23),r(106),r(107),r(108);var o=function(){var t=this,n=t._self._c;return n("el-drawer",{attrs:{visible:t.approverDrawer,"custom-class":"set_promoter","append-to-body":"",direction:"rtl","before-close":t.saveData,size:"560px"},on:{"update:visible":function(n){t.approverDrawer=n}}},[t.approverConfig?[n("div",{staticClass:"title flex",attrs:{slot:"title"},slot:"title"},[t.titleInputFlag?n("el-input",{attrs:{maxlength:"20",autofocus:"",placeholder:""},model:{value:t.nodeName,callback:function(n){t.nodeName=n},expression:"nodeName"}}):n("span",[t._v(t._s(t.nodeName))]),t._v(" "),n("el-button",{staticClass:"el-icon-edit edit_button",attrs:{type:"text"},on:{click:t.clickEdit}})],1),t._v(" "),n("div",[n(t.getFormComponent,{tag:"component",attrs:{defaultApprovalDrawer:t.defaultApprovalDrawer},model:{value:t.approverConfig,callback:function(n){t.approverConfig=n},expression:"approverConfig"}})],1),t._v(" "),n("div",{staticClass:"set_promoter_footer flex"},[t.defaultApprovalDrawer?n("div",[n("el-button",{attrs:{type:"primary"},on:{click:function(n){t.approverDrawer=!1}}},[t._v("关闭")])],1):n("div",{staticClass:"flex"},[n("el-button",{attrs:{type:"primary"},on:{click:t.saveApprover}},[t._v("确定")]),t._v(" "),n("el-button",{on:{click:function(n){t.approverDrawer=!1}}},[t._v("取消")])],1)])]:t._e()],2)};o._withStripped=!0;var i={inject:["findNode"],computed:{getFormComponent(){if(this.approverConfig)return this.$factory.getFormComponentName(this.approverConfig.type)},defaultApprovalDrawer(){return"默认"==this.approverConfig.nodeName}},data:()=>({approverDrawer:!1,approverConfig:{},titleInputFlag:!1,nodeName:""}),methods:{clickEdit(){if(this.titleInputFlag=!this.titleInputFlag,!this.titleInputFlag&&"默认"==this.nodeName)return this.nodeName=this.approverConfig.nodeName,this.titleInputFlag=!0,this.$message.error("不能取名为默认")},setApproverStr(){return this.$factory.getTypeTextHandle(this.approverConfig.type,this.approverConfig)},getBeforeSave(){return this.$factory.getTypeBeforeSave(this.approverConfig.type,this.approverConfig)},saveApprover(){this.approverDrawer=!1,this.saveData()},saveData(){this.approverConfig.error=!this.getBeforeSave();let t=this.findNode(this.approverConfig.nodeId);if(!t)throw Error("无效节点对象");for(let n in this.approverConfig)["nodeName","nodeId","childNode","type","fatherID","conditionNodes","level"].includes(n)||(t[n]=this.approverConfig[n]);t.nodeName=this.nodeName,this.approverDrawer=!1},openDrawer(t){this.approverDrawer=!0,this.titleInputFlag=!1,this.approverConfig=JSON.parse(JSON.stringify(t)),this.nodeName=this.approverConfig.nodeName}}},s=r(1),a=Object(s.a)(i,o,[],!1,null,null,null).exports,c={components:{NodeWrap:r(64).default,Editor:a},data:()=>({isTried:!0,tipList:[],nodeConfig:{},nowVal:100}),provide(){return{getRoot:()=>this.nodeConfig,getFlatRoot:()=>this.getFlatDic(),findNode:this.findNode,openDrawer:this.openDrawer,nodeType:this.$factory.nodeType,config:this.$factory.config}},computed:{nodeType(){return this.$factory.nodeType}},beforeMount(){let t=this.nodeType;this.nodeConfig={error:!0,childNode:this.$factory.getStruct(null,t.开始,null,1)},this.nodeConfig.childNode.childNode=this.$factory.getStruct(this.nodeConfig.childNode.nodeId,t.结束,null,1)},methods:{async importData(){let t=null,n=await new Promise((n,r)=>{t=document.createElement("input"),t.value="选择文件",t.type="file",t.onchange=t=>{let r=t.target.files[0],e=new FileReader;e.onload=()=>{let t=e.result;n(t)},e.readAsText(r,"UTF-8")},t.click()});try{n=JSON.parse(n),this.loadData(n.nodeConfig)}catch(t){throw Error("序列化导入数据失败 请仔细检查数据")}},loadData(t){this.nodeConfig=t},exportStruct(){return{nodeConfig:this.nodeConfig}},exportData(){if(this.validate()){let r=this.exportStruct();var t=document.createElement("a");t.download="flowData.json",t.style.display="none";var n=new Blob([JSON.stringify(r)]);t.href=URL.createObjectURL(n),document.body.appendChild(t),t.click(),document.body.removeChild(t)}else console.log(this.tipList),this.$message.error("存在错误情况 无法导出数据")},findNode(t){let n=this.getFlatDic();for(let r in n)if(r==t)return n[r]},conditionNodesHandle(t,n){t.forEach(t=>{n[t.nodeId]=t,t.childNode&&this.flatData(t.childNode,n)})},getFlatDic(){let t={};return this.flatData(this.nodeConfig,t),t},flatData(t,n){t&&(t.nodeId&&(n[t.nodeId]=t),t.childNode&&(n[t.childNode.nodeId]=t.childNode,this.flatData(t.childNode,n),t.childNode.conditionNodes&&t.childNode.conditionNodes.length>0&&this.conditionNodesHandle(t.childNode.conditionNodes,n)),t.conditionNodes&&t.conditionNodes.length>0&&this.conditionNodesHandle(t.conditionNodes,n))},validate(){return this.isTried=!0,this.tipList=[],this.reErr(this.nodeConfig),0==this.tipList.length},reErr(t){let n=this.nodeType;if(t.childNode)if(this.reErr(t.childNode),t.childNode.type!=n.条件分支)t.childNode.error&&this.tipList.push({name:t.childNode.nodeName,type:n.toString(t.childNode.type)});else for(var r=0;r<t.childNode.conditionNodes.length;r++)t.childNode.conditionNodes[r].error&&this.tipList.push({name:t.childNode.conditionNodes[r].nodeName,type:"条件"}),this.reErr(t.childNode.conditionNodes[r])},zoomSize(t){let n=this.nowVal;!t&&n>50?this.nowVal-=10:t&&n<300&&(this.nowVal+=10)},openDrawer(t,n,r,e){this.$refs.editor.openDrawer(t,n,r,e)}}},d=(r(112),Object(s.a)(c,e,[],!1,null,null,null).exports);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){var n=function(t,n){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=l(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==l(n)?n:n+""}function p(t,n,r){return(n=u(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}r(115),r(119),r(122),r(125),r(128),r(131),r(134);var f={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let h;const g=new Uint8Array(16);function v(){if(!h&&(h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(g)}const x=[];for(let t=0;t<256;++t)x.push((t+256).toString(16).slice(1));function b(t,n=0){return x[t[n+0]]+x[t[n+1]]+x[t[n+2]]+x[t[n+3]]+"-"+x[t[n+4]]+x[t[n+5]]+"-"+x[t[n+6]]+x[t[n+7]]+"-"+x[t[n+8]]+x[t[n+9]]+"-"+x[t[n+10]]+x[t[n+11]]+x[t[n+12]]+x[t[n+13]]+x[t[n+14]]+x[t[n+15]]}const m=function(t,n,r){if(f.randomUUID&&!n&&!t)return f.randomUUID();const e=(t=t||{}).random||(t.rng||v)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,n){r=r||0;for(let t=0;t<16;++t)n[r+t]=e[t];return n}return b(e)};let y={"开始":0,"条件":2,"条件分支":3,"结束":4,"删除块":5,toString:function(t){for(let n in this)if("toString"!=n&&this[n]==t)return n;return"未知类型"}};class w{constructor(){p(this,"filename","Normal"),p(this,"form",""),p(this,"type",y.开始)}getStruct(){}handleText(t){}beforeSave(t){}}let C={createPopupImmediately:!1,headerColor:{[y.开始]:"#8cafff",[y.条件分支]:"",[y.结束]:"#8cafff"},addNodesOptions:[{type:y.条件分支,label:"条件分支",icon:r(137),class:"condition"}],dataFields:{submitter:{name:"提交人",conditions:["属于","不属于"],values:[{label:"123",value:"123"}],single:!1}}};var N={mixName:"node",components:{nodeWrap:()=>Promise.resolve().then(r.bind(null,64)),addNode:r(25).a},props:["isTried","value"],model:{prop:"value",event:"input"},emits:["openDrawer"],inject:["getFlatRoot","openDrawer","nodeType","config"],computed:{nodeConfig:{get(){return this.value},set(t){this.$emit("input",t)}}},mounted(){if(null==this.value)throw Error("无绑定v-model 请绑定");this.nodeConfig.type!=this.nodeType.条件分支&&(this.nodeConfig.error=!this.vaildError(this.nodeConfig))},methods:{vaildError(t){return this.$factory.getTypeBeforeSave(t.type,t)},setApproverStr(){return this.$factory.getTypeTextHandle(this.nodeConfig.type,this.nodeConfig)},setConditionStr(t){return this.$factory.getTypeTextHandle(t.type,t)},delNode(){let t=this.nodeConfig.fatherID;if(this.nodeConfig.childNode)this.nodeConfig.childNode.fatherID=t,this.$emit("input",this.nodeConfig.childNode);else{let n=this.getFlatRoot();if(!t)throw Error("这个是根节点无法删除！");n[t].childNode=null}}}},S={mixName:"form",inject:["config","nodeType"],props:["value"],model:{prop:"value",event:"input"},computed:{approverConfig:{get(){return this.value},set(t){this.$emit("input",t)}},setting:{get(){return this.approverConfig.setting},set(t){this.approverConfig.setting=t}}}};class _{constructor(t,n,r){p(this,"factory",{}),p(this,"nodeType",null),p(this,"app",null),p(this,"nodeFilesList",new Set),p(this,"config",null),this.nodeType=t,this.app=n,this.config=r}createCustomNodeComponent(t,n){let{app:r,nodeFilesList:e}=this;if(!t)throw Error("自定义节点无效传参 组件名称："+t);if(!n)throw Error("自定义节点无效传参 组件内容");if(e.has(t))throw Error("该节点组件名称已被注册过了");e.add(t),n.mixins&&n.mixins.find(t=>"node"==t.mixName)||(n.mixins=n.mixins&&n.mixins.concat(N)||[N]),r.component(t,n)}createNode(t,n,r,e,o="节点",i="Normal",s="NodeForm"){if(void 0===t)throw Error("未注册类型:"+t);if(!this.nodeFilesList.has(i))throw Error("未注册节点Vue组件 "+i);if(!n)throw Error("节点配置不能为空");if("function"!=typeof r||"function"!=typeof e)throw Error("传入参数不是函数");return{filename:i,type:t,form:s,getStruct:(r,e,i)=>({nodeName:o,error:!0,type:t,nodeId:m(),setting:n,childNode:e,fatherID:r,level:i}),handleText(t){let n=t.setting,e=r(n);return Array.isArray(e)&&e.length>0&&e||["暂无配置"]},beforeSave(t){let n=t.setting;return e(n)}}}rigsterType(t,n,e="rgb(230, 162, 60)",o="",i=""){let{config:s,nodeType:a}=this;if(null!=a[t])throw Error("已经存在该类型名称:"+t);for(let t in a)if(a[t]===n)throw Error(`${t}已经存在该类型值:${n}`);a[t]=n,s.headerColor[a[t]]=e,s.addNodesOptions=[{type:a[t],label:t,icon:o||r(138),class:i}].concat(s.addNodesOptions)}registerComponent(t,n,r){let{factory:e,app:o}=this;if(""===t||null==t)throw Error("无效注册类型:"+t);if(!n)throw Error("传入注册节点为空");if(e[t]=n,r){r.mixins&&r.mixins.find(t=>"form"==t.mixName)||(r.mixins=r.mixins&&r.mixins.concat(S)||[S]),o.component(n.form,r)}}getStruct(t,n,r,e,o){if(this.factory[n])return this.factory[n].getStruct(t,r,e,e,o);throw Error("无效type类型:"+n)}getTypeTextHandle(t,n){return this.factory[t]&&this.factory[t].handleText(n)||""}getTypeBeforeSave(t,n){return this.factory[t]&&this.factory[t].beforeSave(n)}getTypeComponentName(t){return this.factory[t]&&this.factory[t].filename}getFormComponentName(t){return this.factory[t]&&this.factory[t].form}resetDataFields(t){this.config.dataFields=t,this.factory[this.nodeType.条件].setMap(t)}}var k=function(){var t=this,n=t._self._c;return n("div",{staticClass:"node-wrap"},[t.nodeConfig?n("div",{staticClass:"node-wrap-box",class:t.isTried&&t.nodeConfig.error?"active error":""},[n("div",{on:{click:function(n){return t.openDrawer(t.nodeConfig)}}},[n("div",{staticClass:"title",style:"background-color:"+t.config.headerColor[t.nodeConfig.type]},[n("span",{staticClass:"editable-title"},[t._v(t._s(t.nodeConfig.nodeName))]),t._v(" "),[t.nodeType.开始,t.nodeType.结束].includes(t.nodeConfig.type)?t._e():n("i",{staticClass:"el-icon-close close",on:{click:function(n){return n.stopPropagation(),t.delNode()}}})]),t._v(" "),n("div",{staticClass:"content"},[t.nodeConfig.error?n("div",{staticClass:"placeholder text"},[t._v("\n          请配置"+t._s(t.nodeConfig.nodeName)+"\n        ")]):t._l(t.setApproverStr(),(function(r,e){return n("div",{key:e,staticClass:"text"},[t._v("\n            "+t._s(r)+"\n          ")])})),t._v(" "),t.isTried&&t.nodeConfig.error?n("div",{staticClass:"error_tip"},[n("i",{staticClass:"el-icon-warning",staticStyle:{color:"rgb(242, 86, 67)"}})]):t._e()],2)])]):t._e(),t._v(" "),t.nodeConfig.type!=t.nodeType.结束?n("addNode",{model:{value:t.nodeConfig,callback:function(n){t.nodeConfig=n},expression:"nodeConfig"}}):t._e()],1)};k._withStripped=!0;var j={mixins:[N]},A=Object(s.a)(j,k,[],!1,null,null,null).exports,T=function(){var t=this,n=t._self._c;return n("div",{staticClass:"branch-wrap"},[n("div",{staticClass:"branch-box-wrap"},[n("div",{staticClass:"branch-box"},[n("el-button",{staticClass:"add-branch",attrs:{type:"primary",plain:"",round:"",size:"small"},on:{click:t.addTerm}},[t._v("\n        添加条件\n      ")]),t._v(" "),t._l(t.nodeConfig.conditionNodes,(function(r,e){return n("div",{key:e,staticClass:"col-box"},[n("div",{staticClass:"condition-node",attrs:{"data-id":r.nodeId}},[n("div",{staticClass:"condition-node-box"},[n("div",{staticClass:"auto-judge",class:t.isTried&&r.error?"error active":"",on:{click:function(n){return t.openDrawer(r)}}},[0!=e&&"默认"!=r.nodeName?n("div",{staticClass:"sort-left",on:{click:function(n){return n.stopPropagation(),t.arrTransfer(e,-1)}}},[t._v("\n                <\n              ")]):t._e(),t._v(" "),n("div",{staticClass:"title-wrapper"},[n("span",{staticClass:"editable-title"},[t._v(t._s(r.nodeName))]),t._v(" "),n("span",{staticClass:"priority-title"},[t._v("优先级"+t._s(r.priorityLevel))]),t._v(" "),"默认"!=r.nodeName?n("i",{staticClass:"el-icon-close close",on:{click:function(n){return n.stopPropagation(),t.delTerm(e)}}}):t._e()]),t._v(" "),e!=t.nodeConfig.conditionNodes.length-1&&"默认"!=r.nodeName?n("div",{staticClass:"sort-right",on:{click:function(n){return n.stopPropagation(),t.arrTransfer(e)}}},[t._v(" > ")]):t._e(),t._v(" "),n("div",{staticClass:"content"},t._l(t.setConditionStr(r),(function(r,e){return n("div",{key:1e3*e,staticClass:"text"},[t._v("\n                  "+t._s(r)+"\n                ")])})),0),t._v(" "),t.isTried&&r.error?n("div",{staticClass:"error_tip"},[n("i",{staticClass:"el-icon-warning",staticStyle:{color:"rgb(242, 86, 67)"}})]):t._e()]),t._v(" "),n("addNode",{attrs:{tip:"条件"},model:{value:t.nodeConfig.conditionNodes[e],callback:function(n){t.$set(t.nodeConfig.conditionNodes,e,n)},expression:"nodeConfig.conditionNodes[index]"}})],1)]),t._v(" "),r.childNode?n("nodeWrap",{attrs:{isTried:t.isTried},on:{"update:isTried":function(n){t.isTried=n},"update:is-tried":function(n){t.isTried=n}},model:{value:r.childNode,callback:function(n){t.$set(r,"childNode",n)},expression:"item.childNode"}}):t._e(),t._v(" "),0==e?n("div",{staticClass:"top-left-cover-line"}):t._e(),t._v(" "),0==e?n("div",{staticClass:"bottom-left-cover-line"}):t._e(),t._v(" "),e==t.nodeConfig.conditionNodes.length-1?n("div",{staticClass:"top-right-cover-line"}):t._e(),t._v(" "),e==t.nodeConfig.conditionNodes.length-1?n("div",{staticClass:"bottom-right-cover-line"}):t._e()],1)}))],2),t._v(" "),n("addNode",{model:{value:t.nodeConfig,callback:function(n){t.nodeConfig=n},expression:"nodeConfig"}})],1)])};T._withStripped=!0;var E={mixins:[N],computed:{conditions:{get(){return this.nodeConfig.conditionNodes},set(t){this.nodeConfig.conditionNodes=t}}},methods:{checkCondtions(){for(var t=0;t<this.conditions.length;t++)this.conditions[t].error="请设置条件"==this.setConditionStr(this.conditions[t],t)&&t!=this.conditions.length-1},addTerm(){let t=this.conditions.length;this.conditions.splice(t-1,0,this.$factory.getStruct(this.nodeConfig.nodeId,this.nodeType.条件,null,this.nodeConfig.level,t)),this.checkCondtions()},arrTransfer(t,n=1){if(1==n&&t+1==this.conditions.length-1)return this.$message.error("无法移动到最后! 其他情况必须在最后");this.conditions[t]=this.conditions.splice(t+n,1,this.conditions[t])[0],this.conditions.map((t,n)=>{t.priorityLevel=n+1}),this.checkCondtions()},delTerm(t){let n=this.conditions[t];if(this.conditions.length>2&&"默认"==n.nodeName)return this.$message.error("条件数量大于2的时候无法删除默认节点");if(this.conditions.splice(t,1),this.checkCondtions(),1==this.nodeConfig.conditionNodes.length){this.nodeConfig.childNode&&(this.nodeConfig.conditionNodes[0].childNode?this.reData(this.conditions[0].childNode,this.nodeConfig.childNode):this.conditions[0].childNode=this.nodeConfig.childNode);let t=this.conditions[0].childNode;if(t){for(t.fatherID=this.nodeConfig.fatherID;t;){let n=t.childNode;if(!n)break;n.type==this.nodeType.删除块&&(t.childNode=null),t=n}this.$emit("input",this.conditions[0].childNode)}}},reData(t,n){t.level>1&&(t.level-=1),t.childNode?this.reData(t.childNode,n):t.childNode=n}}},I=(r(139),Object(s.a)(E,T,[],!1,null,"bca9c6ae",null).exports);class z extends w{constructor(...t){super(...t),p(this,"filename",""),p(this,"form","ConditionForm"),p(this,"type",y.条件),p(this,"dic",new Map)}getStruct(t,n,r,e){return{nodeName:e?"条件"+e:"默认",error:!!e,nodeId:m(),type:this.type,priorityLevel:e,setting:{conditionList:[]},childNode:n,fatherID:t,level:r}}handleText(t){let n=[];return t.setting.conditionList.forEach((t,r)=>{t.forEach((t,e)=>{t.key&&n.push(`${e>0?"且":""+(r?"或":"当")}${this.dic.get(t.key)}${t.operator}：${"string"==typeof t.value?t.value:t.value.map(t=>t&&t.name||t).toString()}`)})}),n.length>0&&n||[t.priorityLevel?"请设置条件":"未满足时其他条件时，将进入默认流程"]}beforeSave(t){let n=t.setting;for(let t of n.conditionList)for(let n of t)if(0==n.value.length)return!1;return!0}setMap(t){this.dic=new Map;for(let n in t)this.dic.set(n,t[n].name)}}const D=new z;class O extends w{constructor(...t){super(...t),p(this,"filename","branch"),p(this,"form",""),p(this,"type",y.条件分支)}getStruct(t,n,r){let e=m();return{nodeName:"路由",type:this.type,nodeId:e,childNode:n,fatherID:t,conditionNodes:[D.getStruct(e,null,r,1),D.getStruct(e,null,r,0)],level:r}}handleText(t){for(var n=0;n<t.conditionNodes.length;n++)t.conditionNodes[n].error=!D.beforeSave(t.conditionNodes[n])}beforeSave(t){return!0}}class F extends w{constructor(...t){super(...t),p(this,"filename","Normal"),p(this,"form","NodeForm"),p(this,"type",y.开始)}getStruct(t,n,r){return{nodeName:"开始",error:!0,type:this.type,nodeId:m(),setting:{},childNode:n,fatherID:t,level:r}}handleText(t){let n=[];t.setting;return n.length>0&&n||["暂无配置"]}beforeSave(t){t.setting;return!0}}class P extends w{constructor(...t){super(...t),p(this,"filename",""),p(this,"form",""),p(this,"type",y.删除块)}getStruct(t,n,r){return{error:!1,nodeId:m(),childNode:n,type:this.type,fatherID:t,level:r}}}class R extends w{constructor(...t){super(...t),p(this,"filename","Normal"),p(this,"form","NodeForm"),p(this,"type",y.结束)}getStruct(t,n,r){return{nodeName:"结束",error:!0,type:this.type,nodeId:m(),setting:{carbonCopySetting:[]},childNode:n,fatherID:t,level:r}}handleText(t){let n=[];return n.length>0&&n||["暂无配置"]}beforeSave(t){return!0}}var U=function(){return(0,this._self._c)("el-form",{staticClass:"form",attrs:{"label-position":"top"}})};U._withStripped=!0;var L={mixins:[S],data:()=>({})},M=Object(s.a)(L,U,[],!1,null,null,null).exports,Q=function(){var t=this,n=t._self._c;return n("el-form",{staticClass:"form",attrs:{"label-position":"top"}},[t.defaultApprovalDrawer?n("div",[t._v("其他情况")]):n("div",[t._l(t.setting.conditionList,(function(r,e){return n("div",{key:e},[n("p",e?[t._v("或满足")]:[t._v("满足以下条件时进入当前分支")]),t._v(" "),n("el-descriptions",{staticClass:"mb-20",attrs:{column:1,border:"",direction:"vertical"}},[n("el-descriptions-item",{attrs:{label:"条件组"}},[n("template",{slot:"label"},[n("div",{staticClass:"flex"},[n("span",[t._v("\n                条件组")]),t._v(" "),n("el-button",{attrs:{type:"text",disabled:!e,icon:"el-icon-delete"},on:{click:function(n){return t.removeGroup(e)}}})],1)]),t._v(" "),t._l(r,(function(o,i){return n("div",{key:1e3*i,staticClass:"column"},[n("div",{staticClass:"flex"},[n("span",[t._v(t._s(0==i?"当":"且"))]),t._v(" "),r.length>1?n("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return t.removeCondition(e,i)}}}):t._e()],1),t._v(" "),n("el-select",{on:{change:function(n){return t.changeKey(o)}},model:{value:o.key,callback:function(n){t.$set(o,"key",n)},expression:"condition.key"}},t._l(t.dataFields,(function(t,r){return n("el-option",{key:r,attrs:{label:t.name,value:r}})})),1),t._v(" "),n("el-select",{model:{value:o.operator,callback:function(n){t.$set(o,"operator",n)},expression:"condition.operator"}},t._l(t.getCondition(o),(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1),t._v(" "),n("el-cascader",{staticClass:"w-100",attrs:{options:t.getOptions(o),clearable:"","collapse-tags":"",props:{multiple:!t.getSingle(o),emitPath:!1}},model:{value:o.value,callback:function(n){t.$set(o,"value",n)},expression:"condition.value"}})],1)})),t._v(" "),n("el-button",{attrs:{icon:"el-icon-plus",type:"text"},on:{click:function(n){return t.pushCondition(e)}}},[t._v("添加条件")])],2)],1)],1)})),t._v(" "),n("el-button",{staticClass:"w-100",attrs:{icon:"el-icon-plus",size:"small"},on:{click:t.addGroup}},[t._v("添加条件组")])],2)])};Q._withStripped=!0;var W={props:["defaultApprovalDrawer"],mixins:[S],computed:{dataFields(){return this.config.dataFields}},methods:{pushCondition(t){this.setting.conditionList[t].push({operator:"",key:"",value:[]})},removeCondition(t,n){this.setting.conditionList[t].splice(n,1)},removeGroup(t){this.setting.conditionList.splice(t,1)},addGroup(){this.setting.conditionList.push([{operator:"",key:"",value:[]}])},changeKey(t){t.value=[],t.operator=""},getSingle(t){let n=this.dataFields[t.key];return n&&n.single},getCondition(t){let n=this.dataFields[t.key];return n&&n.conditions||[]},getOptions(t){let n=this.dataFields[t.key];return n&&n.values||[]}}},B=(r(141),Object(s.a)(W,Q,[],!1,null,"cee65956",null).exports);n.default={install(t,n){let r=new _(y,t,C);t.prototype.$factory=r,r.createCustomNodeComponent("Normal",A),r.createCustomNodeComponent("Branch",I);let e=new z;e.setMap(C.dataFields),r.registerComponent(y.开始,new F,M),r.registerComponent(y.结束,new R),r.registerComponent(y.删除块,new P),r.registerComponent(y.条件分支,new O),r.registerComponent(y.条件,e,B),t.component("work-flow",d),n&&(n.dataFields&&Reflect.set(C,"dataFields",n.dataFields),C.createPopupImmediately=n.createPopupImmediately)}}}])}));